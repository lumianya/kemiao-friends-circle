<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <title>Du's Garden</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- åŸºç¡€è®¾è®¡ç³»ç»Ÿï¼ˆå« Memos å¡ç‰‡æ ·å¼ï¼‰ -->
    <style>
        :root{
            --bg:#ffffff;
            --bg-soft:#f7f7f7;
            --text:#222;
            --text-soft:#666;
            --border:#e5e5e5;
            --accent:#0066ff;
            --radius:12px;
            --shadow:0 4px 20px rgba(0,0,0,.05);
            --transition:.3s ease;
        }
        [data-theme="dark"]{
            --bg:#1e1e1e;
            --bg-soft:#2a2a2a;
            --text:#e5e5e5;
            --text-soft:#aaa;
            --border:#333;
            --accent:#4f8cff;
            --shadow:0 4px 20px rgba(0,0,0,.25);
        }
        *{margin:0;padding:0;box-sizing:border-box;}
        body{
            font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
            background:var(--bg);color:var(--text);
            transition:background var(--transition),color var(--transition);
            display:flex;flex-direction:column;min-height:100vh;
        }
        header{
            background:var(--bg-soft);border-bottom:1px solid var(--border);
            padding:12px 24px;position:sticky;top:0;z-index:1000;
        }
        nav{display:flex;gap:24px;align-items:center;font-weight:600;}
        nav a{color:var(--text-soft);text-decoration:none;font-size:14px;}
        nav a.active{color:var(--accent);}
        main{flex:1;max-width:800px;width:100%;margin:40px auto;padding:0 20px;}
        section{display:none;}
        section.active{display:block;animation:fadeIn .4s;}
        @keyframes fadeIn{from{opacity:0;transform:translateY(6px);}to{opacity:1;transform:none;}}
        /* Memos å¡ç‰‡ */
        .memo-card{
            background:var(--bg-soft);
            border:1px solid var(--border);
            border-radius:var(--radius);
            padding:20px;
            margin-bottom:12px;
            box-shadow:var(--shadow);
            white-space:pre-wrap;
            word-break:break-word;
            line-height:1.6;
        }
        .memo-time{
            margin-top:8px;
            font-size:12px;
            color:var(--text-soft);
        }
        .loading,
        .error{
            text-align:center;
            padding:40px;
            color:var(--text-soft);
        }
        .error{color:#e74c3c;}
        /* å‹é“¾å¡ç‰‡ */
        .friend-grid{display:grid;gap:20px;}
        @media(min-width:600px){.friend-grid{grid-template-columns:repeat(2,1fr);}}
        @media(min-width:900px){.friend-grid{grid-template-columns:repeat(4,1fr);}}
        .friend-card{
            border:1px solid var(--border);border-radius:var(--radius);
            padding:20px;background:var(--bg-soft);display:flex;gap:12px;align-items:center;
            transition:transform var(--transition),box-shadow var(--transition);
        }
        .friend-card:hover{transform:translateY(-2px);box-shadow:var(--shadow);}
        .friend-card img{width:48px;height:48px;border-radius:50%;object-fit:cover;}
        .friend-info{flex:1;display:flex;flex-direction:column;}
        .friend-name{font-weight:600;color:var(--accent);}
        .friend-desc{font-size:13px;color:var(--text-soft);}
        /* ä»£ç å— */
        pre{background:var(--bg-soft);border:1px solid var(--border);border-radius:var(--radius);
            padding:16px;overflow:auto;font-size:14px;}
        /* æµ®åŠ¨ä¸»é¢˜æŒ‰é’® */
        .theme-float{
            position:fixed;bottom:24px;right:24px;
            width:48px;height:48px;border-radius:50%;
            background:var(--accent);color:#fff;border:none;cursor:pointer;
            display:flex;align-items:center;justify-content:center;font-size:20px;
            box-shadow:var(--shadow);transition:transform var(--transition);
        }
        .theme-float:hover{transform:scale(1.1);}
        /* é¡µè„š */
        footer{
            text-align:center;font-size:13px;color:var(--text-soft);
            padding:40px 20px;border-top:1px solid var(--border);
        }
        footer a{color:var(--accent);margin:0 8px;text-decoration:none;}
    </style>

    <!-- Memos é¢å¤–æ ·å¼ -->
    <link rel="stylesheet" href="https://static.314926.xyz/css/memos/style.css">
    <link rel="stylesheet" href="https://memos.314926.xyz/memos/highlight.github.min.css">
    <link rel="stylesheet" href="https://static.314926.xyz/css/custom/memos-custom.css">
    <link rel="stylesheet" href="https://static.314926.xyz/css/custom/app.css">
</head>

<body>
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header>
        <nav>
            <a href="#" class="nav-link active" data-page="home">é¦–é¡µ</a>
            <a href="#" class="nav-link" data-page="memos">Memos</a>
            <a href="#" class="nav-link" data-page="friends">å‹é“¾</a>
        </nav>
    </header>

    <main>
        <!-- é¦–é¡µ / æœ‹å‹åœˆ -->
        <section id="page-home" class="active">
            <div id="friend-circle-lite-root"></div>
            <div class="giscus-container">
                <script src="https://giscus.app/client.js"
                        data-repo="lumianya/kemiao-friends-circle"
                        data-repo-id="R_kgDOPLZljg"
                        data-category="Announcements"
                        data-category-id="DIC_kwDOPLZljs4Cs4xJ"
                        data-mapping="title"
                        data-strict="0"
                        data-reactions-enabled="1"
                        data-emit-metadata="0"
                        data-input-position="top"
                        data-theme="light"
                        data-lang="zh-CN"
                        data-loading="lazy"
                        crossorigin="anonymous"
                        async>
                </script>
            </div>
        </section>

        <!-- Memosï¼ˆç‹¬ç«‹é¡µé¢å†™æ³•ï¼Œå®Œå…¨æ›¿æ¢ï¼‰ -->
        <section id="page-memos">
            <main id="main" class="container py-10">
                <div id="memos" class="memos"></div>
            </main>

            <!-- å…¨å±€é…ç½® -->
            <script>
                window.memos = {
                    host: 'https://memos.050815.xyz',
                    limit: '10',
                    creatorId: '1',
                    domId: '#memos',
                    username: 'kemiao',
                    name: 'å…‹å–µçˆ±åƒå¤é¢',
                };
            </script>

            <!-- å¤–éƒ¨è„šæœ¬ï¼ˆæŒ‰ä¾èµ–é¡ºåºï¼‰ -->
            <script src="https://memos.314926.xyz/memos/lazyload.min.js"></script>
            <script src="https://memos.314926.xyz/memos/marked.min.js"></script>
            <script src="https://memos.314926.xyz/memos/view-image.min.js"></script>
            <script src="https://memos.314926.xyz/memos/moment.min.js"></script>
            <script src="https://memos.314926.xyz/memos/moment.twitter.js"></script>
            <script src="https://memos.314926.xyz/memos/highlight.min.js"></script>
            <script src="https://static.314926.xyz/js/memos/main.js"></script>

            <!-- åˆå§‹åŒ–è„šæœ¬ -->
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    setTimeout(() => {
                        if (typeof hljs !== 'undefined') hljs.highlightAll();
                        document.querySelectorAll('.memo').forEach(el => {
                            el.classList.add('bg-white', 'dark:bg-gray-800', 'p-4', 'rounded-lg');
                        });
                    }, 500);
                });
            </script>
        </section>

        <!-- å‹é“¾ -->
        <section id="page-friends">
            <h2 style="margin-bottom:20px;">å°ä¼™ä¼´ä»¬</h2>
            <div class="friend-grid" id="friends-show"></div>

            <h3 style="margin:40px 0 12px;">ç”³è¯·é¡»çŸ¥</h3>
            <ul style="padding-left:20px;font-size:15px;line-height:1.8;color:var(--text-soft);">
                <li>ç«™ç‚¹å¯æ­£å¸¸è®¿é—®ï¼Œå†…å®¹å¥åº·</li>
                <li>åŠå¹´å†…æ— å¤±è”ï¼Œæ›´æ–°è§„å¾‹</li>
                <li>äº’æ¢å‹é“¾åè¯·ä¿æŒè‡³å°‘åŠå¹´</li>
            </ul>

            <h3 style="margin:40px 0 12px;">æˆ‘çš„ä¿¡æ¯</h3>
            <pre><code>{
  "name": "å–µè½é˜",
  "desc": "æ„¿ä½ çœ‹æ¸…ä¸€åˆ‡çœŸç›¸åï¼Œä¾æ—§çƒ­çˆ±ä½ çš„å®¶äººå’Œæœ‹å‹ã€‚",
  "url": "https://myblog.152531.xyz",
  "avatar": "https://cn.cravatar.com/avatar/1F6C8947D35A8186A1647009BA8BC5F2?size=256"
}</code></pre>
        </section>
    </main>

    <!-- æµ®åŠ¨ä¸»é¢˜æŒ‰é’® -->
    <button class="theme-float" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ—</button>

    <!-- é¡µè„š -->
    <footer>
        <a href="/rss.xml">RSS</a> Â·
        <a href="https://github.com/Kemeow815" target="_blank">GitHub</a> Â·
        <a href="mailto:me@mail.kemeow.top">Email</a><br/>
        Â© 2025 å…‹å–µçˆ±åƒå¤é¢ Â· <a href="https://icp.gov.moe/?keyword=20250530" target="_blank" rel="noopener noreferrer">èŒICPå¤‡20250530å·</a>
    </footer>

    <!-- é€»è¾‘è„šæœ¬ -->
    <script>
        /* ---------- è·¯ç”±åˆ‡æ¢ ---------- */
        const links  = document.querySelectorAll('.nav-link');
        const pages  = document.querySelectorAll('section');
        links.forEach(el=>el.addEventListener('click', e=>{
            e.preventDefault();
            const id = el.dataset.page;
            links.forEach(l=>l.classList.toggle('active', l===el));
            pages.forEach(p=>p.classList.toggle('active', p.id==='page-'+id));
        }));

        /* ---------- ä¸»é¢˜ ---------- */
        function toggleTheme(){
            const html = document.documentElement;
            const dark = html.getAttribute('data-theme')==='dark';
            const next = dark?'light':'dark';
            html.setAttribute('data-theme', next);
            localStorage.setItem('theme', next);
            /* giscus åŒæ­¥ */
            const g = document.querySelector('iframe.giscus-frame');
            if(g) g.contentWindow.postMessage({giscus:{setConfig:{theme:next}}}, 'https://giscus.app');
        }
        (()=>{
            const t = localStorage.getItem('theme')||'light';
            document.documentElement.setAttribute('data-theme', t);
        })();

        /* ---------- Friend Circle Lite ---------- */
        (()=>{
            if(typeof window==='undefined')return;
            window.UserConfig={
                private_api_url:'https://fc.314926.xyz/',
                page_turning_number:24,
                error_img:'https://pic.imgdb.cn/item/6695daa4d9c307b7e953ee3d.jpg'
            };
            const css=document.createElement('link');
            css.rel='stylesheet';
            css.href='https://fastly.jsdelivr.net/gh/willow-god/Friend-Circle-Lite/main/fclite.min.css';
            document.head.appendChild(css);
            const js=document.createElement('script');
            js.src='https://fastly.jsdelivr.net/gh/willow-god/Friend-Circle-Lite/main/fclite.min.js';
            js.onload=()=>console.warn('Friend Circle Lite loaded');
            document.body.appendChild(js);
            window.fclResources={css,js};
        })();

        /* ---------- å‹é“¾æ•°æ® ---------- */
        const friendsData=[
            {name:'æœè€å¸ˆè¯´',desc:'æœè€å¸ˆè¯´',url:'https://dusays.com',avatar:'https://cdn.dusays.com/avatar.png'},
            {name:'APPå–µ',desc:'æ¯æ—¥åˆ†äº«æœ‰è¶£App',url:'https://appmiu.com',avatar:'https://appmiu.com/favicon.ico'},
            {name:'å¼ æ´ªHeo',desc:'è®¾è®¡ä¸å‰ç«¯',url:'https://blog.zhheo.com',avatar:'https://blog.zhheo.com/avatar.png'}
        ];
        const friendsHtml=friendsData.map(f=>`
            <a class="friend-card" href="${f.url}" target="_blank">
                <img src="${f.avatar}" alt="${f.name}">
                <div class="friend-info">
                    <div class="friend-name">${f.name}</div>
                    <div class="friend-desc">${f.desc}</div>
                </div>
            </a>
        `).join('');
        document.getElementById('friends-show').innerHTML=friendsHtml;
    </script>
</body>
</html>